<ng-container *ngIf="state$ | async as state">
  <div #trigger class="inline-block">
    <ui-time-label
      class="rounded-s hover:shadow-outline_primary cursor-pointer"
      [status]="state.isTracking ? 'tracking' : 'editable'"
      [sec]="state.trackingTimeSec"
      [scheduledTimeSec]="state.plannedTimeSec || undefined"
      [isShowScheduledTime]="true"
    ></ui-time-label>
    <ui-tracking-log-change-popup
      class="relative"
      [triggerEl]="trigger"
      [trackingTime]="trackingTime$ | async"
      [plannedTime]="plannedTime$ | async"
      (changedTrackingTime)="onChangedTrackingTime$.next($event)"
      (changedPlannedTime)="onChangedPlannedTime$.next($event)"
    ></ui-tracking-log-change-popup>
  </div>
</ng-container>
