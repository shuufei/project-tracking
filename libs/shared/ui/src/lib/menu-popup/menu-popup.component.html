<div #triggerEl class="block">
  <ui-icon
    class="cursor-pointer more-icon"
    [ngClass]="triggerVisible ? '' : 'hide'"
    [icon]="'more-horizontal'"
    [size]="'s'"
    [color]="'primary-light2'"
    [hoverColor]="'primary'"
  ></ui-icon>
</div>
<ui-popup [triggerEl]="triggerEl" [isCloseWhenPopupAction]="true">
  <div class="menu-items">
    <ui-menu-item
      *ngIf="featureOption.edit"
      [itemName]="'編集'"
      [color]="'primary'"
      [icon]="'edit-2'"
      class="menu-item"
      (click)="clickedEdit.emit()"
    ></ui-menu-item>
    <ui-menu-item
      *ngIf="featureOption.addSubtask"
      [itemName]="'サブタスクを追加'"
      [color]="'primary'"
      [icon]="'plus'"
      class="menu-item"
      (click)="clickedAddSubtask.emit()"
    ></ui-menu-item>
    <ui-menu-item
      *ngIf="featureOption.editPlannedTime"
      [itemName]="'作業予定時間を設定'"
      [color]="'primary'"
      [icon]="'clock'"
      class="menu-item"
      (click)="clickedEditPlannedTime.emit()"
    ></ui-menu-item>
    <ui-menu-item
      *ngIf="featureOption.moveBoard"
      [itemName]="'別のボードに移動'"
      [color]="'primary'"
      [icon]="'arrow-right'"
      class="menu-item"
      (click)="clickedMoveBoard.emit()"
    ></ui-menu-item>
    <ui-menu-item
      *ngIf="featureOption.delete"
      [itemName]="'削除'"
      [color]="'warn'"
      [icon]="'trash-2'"
      class="menu-item"
      (click)="clickedDelete.emit()"
    ></ui-menu-item>
  </div>
</ui-popup>
